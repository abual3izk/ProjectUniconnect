@model ProjectUniconnect.Models.Employer

@{
    ViewData["Title"] = "Employer Sign Up";
    ViewData["BodyClass"] = "";
    ViewData["BodyTheme"] = "";
}

<script src="~/js/header.js" defer></script>

@section Styles {
    <style>
        :root {
            --bg: #fff;
            --text: #000;
            --brand: #2f6e47;
            --input: #c8d5ff;
            --hint: #000;
            --ok: #2fa772;
            --err: #e05b5b;
            --shadow: 0 8px 20px rgba(0,0,0,.06);
            --border: #e7e7e7
        }

        body {
            margin: 0;
            background: var(--bg);
            color: var(--text);
            font-family: system-ui,Arial,sans-serif
        }

        .container {
            max-width: 680px;
            margin: 140px auto;
            padding: 0 20px;
            text-align: center
        }

        h1 {
            margin: 0 0 10px;
            font-size: 42px
        }

        .sub {
            margin: 0 auto 30px;
            max-width: 520px;
            color: var(--hint);
            font-size: 15px;
            line-height: 1.6
        }

        .card {
            background: #fff;
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 26px;
            box-shadow: var(--shadow);
            text-align: left;
            max-width: 620px;
            margin: auto
        }

        label {
            font-size: 14px;
            color: var(--brand);
            margin: 12px 0 6px;
            display: block
        }

        .input {
            width: 100%;
            height: 56px;
            border-radius: 12px;
            border: 2px solid var(--input);
            padding: 0 16px;
            font-size: 16px;
            box-sizing: border-box
        }

        .btn {
            width: 100%;
            height: 56px;
            border: none;
            border-radius: 12px;
            background: var(--brand);
            color: #fff;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 6px
        }

        .link {
            color: var(--brand);
            text-decoration: none;
            font-weight: 600
        }

        .msg {
            margin-top: 10px;
            font-size: 14px;
            color: var(--err);
            min-height: 18px;
            text-align: center
        }

        .hint {
            margin-top: 16px;
            color: #8494b8;
            font-size: 15px;
            text-align: center
        }

        @@media(max-width:520px) {
            .card {
                padding: 20px
            }

            h1 {
                font-size: 34px
            }
        }
    </style>
}

<div class="container">

    <a asp-controller="Home" asp-action="About"
       style="display:flex; justify-content:center; margin-top:120px; margin-bottom:30px;">
        <img src="~/Images/logo.jpg"
             alt="UniConnect Logo"
             style="width:180px; height:auto; border-radius:14px; box-shadow:0 4px 18px rgba(0,0,0,0.15); cursor:pointer;">
    </a>

    <h1>Employer Registration</h1>
    <p class="sub">Create your employer account.</p>

    <!--->"signupForm"  -->
    <form asp-action="Signup" asp-controller="Employer"
          method="post" id="signupForm" class="card" autocomplete="on" novalidate>

        <!-- Company name -->
        <label asp-for="CompanyName"></label>
        <input asp-for="CompanyName" class="input"
               placeholder="Your company name" required autofocus />
        <span asp-validation-for="CompanyName" class="msg"></span>

        <!-- Company email -->
        <label asp-for="Email"></label>
        <input asp-for="Email" class="input"
               type="email" placeholder="company@example.com" required />
        <span asp-validation-for="Email" class="msg"></span>

        <!-- Password -->
        <label asp-for="Password"></label>
        <input asp-for="Password" id="Pass" class="input"
               type="password" placeholder="At least 6 characters" minlength="6" required />
        <span asp-validation-for="Password" class="msg"></span>

        <!-- Confirm Password  -->
        <label for="Pass2">Confirm Password</label>
        <input id="Pass2" class="input" type="password"
               placeholder="Re-enter your password" minlength="6" required autocomplete="new-password" />

        <!-- Terms agreement -->
        <label style="margin-top:10px;">
            <input id="suTerms" type="checkbox" required /> I agree to the Terms Conditions
        </label>

        <!-- Message area  -->
        <p id="suMsg" class="msg" aria-live="polite"></p>

        @if (ViewBag.Message != null)
        {
            <p style="color: green; text-align:center; margin-top:15px;">
                @ViewBag.Message
            </p>
        }

        <!-- Submit button -->
        <button type="submit" class="btn">Create Employer Account</button>

        <!-- Link to login page -->
        <div class="hint">
            Already have an employer account?
            <a id="goLogin" class="link" asp-controller="Employer" asp-action="Login">Log in</a>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        (function () {
            const form  = document.getElementById('signupForm');
            const p1    = document.getElementById('Pass');
            const p2    = document.getElementById('Pass2');
            const terms = document.getElementById('suTerms');
            const msg   = document.getElementById('suMsg');

            form.addEventListener('submit', function (e) {
                msg.style.color = "var(--err)";
                msg.textContent = "";

                // HTML5 validation
                if (!form.checkValidity()) {
                    e.preventDefault();
                    form.reportValidity();
                    return;
                }

                // Password match
                if (p1.value !== p2.value) {
                    e.preventDefault();
                    msg.textContent = "Passwords do not match.";
                    return;
                }

                // Terms
                if (!terms.checked) {
                    e.preventDefault();
                    msg.textContent = "You must agree to the terms.";
                    return;
                }

             
            });
        })();
    </script>
}
